---
import { getCollection } from 'astro:content';
import Container from "@components/container.astro";
import Cta from "@components/cta.astro";
import Features from "@components/features.astro";
import Footer from "@components/footer.astro";
import Hero from "@components/hero.astro";
import Layout from "@layouts/Layout.astro";
import LatestPosts from "@components/LatestPosts.astro";
import ConvertKitForm from './ConvertKitForm.astro';
const formId = 'f31846715d';
---




// Fetch the latest 3 blog posts
const blogEntries = await getCollection('blog', { 
  limit: 3, 
  sort: { field: 'data.publishDate', order: 'desc' },
  filter: ({ data }) => !data.draft && data.publishDate < new Date()
});
---

<Layout title="">
  <Container>
    <Hero />
    <!-- show latest posts -->
    <LatestPosts posts={blogEntries} />
    <!--<Features />
    <Logos />
    <Cta />-->
    <ConvertKitForm />
  </Container>
</Layout>
